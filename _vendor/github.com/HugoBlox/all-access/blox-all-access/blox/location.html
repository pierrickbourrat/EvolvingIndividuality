{{/* Hugo Blox: Projects */}}
{{/* Documentation: https://hugoblox.com/blocks/ */}}
{{/* License: https://github.com/HugoBlox/hugo-blox-builder/blob/main/LICENSE.md */}}

{{/* Initialise */}}
{{ $page := .wcPage }}
{{ $block := .wcBlock }}

{{ if $block.content.title }}
<div class="flex flex-col items-center max-w-prose mx-auto gap-3 justify-center">

  <!-- Title -->
  <div class="mb-6 text-3xl font-bold text-gray-900 dark:text-white">
    {{ $block.content.title | emojify | $page.RenderString }}
  </div>

  <!-- Text -->
  {{ with $block.content.text }}
    <div class="text-center text-neutral-800 dark:text-neutral-200">{{ . | emojify | $page.RenderString }}</div>
  {{ end }}

  <!-- Main Image -->
  {{ with (index $block.content.images 0) }}
    {{- $img := resources.GetMatch (path.Join "media" .) -}}
    {{ if $img }}
      {{ $img = $img.Process "Resize 600x400" }}
      <div class="location-image mt-6">
        <img alt="Location Map" class="rounded-lg shadow-md" src="{{ $img.RelPermalink }}" style="width:100%; height:auto;">
      </div>
    {{ end }}
  {{ end }}

  <!-- Additional Image below text -->
  {{ with (index $block.content.images 1) }}
    {{- $img := resources.GetMatch (path.Join "media" .) -}}
    {{ if $img }}
      {{ $img = $img.Process "Resize 600x400" }}
      <div class="additional-image mt-6">
        <img alt="Additional Location Image" class="rounded-lg shadow-md" src="{{ $img.RelPermalink }}" style="width:100%; height:auto; margin-top: 20px;">
      </div>
    {{ end }}
  {{ end }}

</div>
{{ end }}